{"ast":null,"code":"require(\"core-js/modules/es.array.slice.js\");\n\nrequire(\"core-js/modules/es.error.cause.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.regexp.to-string.js\");\n\nvar canPromise = require('./can-promise');\n\nvar QRCode = require('./core/qrcode');\n\nvar CanvasRenderer = require('./renderer/canvas');\n\nvar SvgRenderer = require('./renderer/svg-tag.js');\n\nfunction renderCanvas(renderFunc, canvas, text, opts, cb) {\n  var args = [].slice.call(arguments, 1);\n  var argsNum = args.length;\n  var isLastArgCb = typeof args[argsNum - 1] === 'function';\n\n  if (!isLastArgCb && !canPromise()) {\n    throw new Error('Callback required as last argument');\n  }\n\n  if (isLastArgCb) {\n    if (argsNum < 2) {\n      throw new Error('Too few arguments provided');\n    }\n\n    if (argsNum === 2) {\n      cb = text;\n      text = canvas;\n      canvas = opts = undefined;\n    } else if (argsNum === 3) {\n      if (canvas.getContext && typeof cb === 'undefined') {\n        cb = opts;\n        opts = undefined;\n      } else {\n        cb = opts;\n        opts = text;\n        text = canvas;\n        canvas = undefined;\n      }\n    }\n  } else {\n    if (argsNum < 1) {\n      throw new Error('Too few arguments provided');\n    }\n\n    if (argsNum === 1) {\n      text = canvas;\n      canvas = opts = undefined;\n    } else if (argsNum === 2 && !canvas.getContext) {\n      opts = text;\n      text = canvas;\n      canvas = undefined;\n    }\n\n    return new Promise(function (resolve, reject) {\n      try {\n        var data = QRCode.create(text, opts);\n        resolve(renderFunc(data, canvas, opts));\n      } catch (e) {\n        reject(e);\n      }\n    });\n  }\n\n  try {\n    var data = QRCode.create(text, opts);\n    cb(null, renderFunc(data, canvas, opts));\n  } catch (e) {\n    cb(e);\n  }\n}\n\nexports.create = QRCode.create;\nexports.toCanvas = renderCanvas.bind(null, CanvasRenderer.render);\nexports.toDataURL = renderCanvas.bind(null, CanvasRenderer.renderToDataURL); // only svg for now.\n\nexports.toString = renderCanvas.bind(null, function (data, _, opts) {\n  return SvgRenderer.render(data, opts);\n});","map":{"version":3,"sources":["C:/Users/asus/Desktop/新建文件夹/SPH-zp/node_modules/qrcode/lib/browser.js"],"names":["canPromise","require","QRCode","CanvasRenderer","SvgRenderer","renderCanvas","renderFunc","canvas","text","opts","cb","args","slice","call","arguments","argsNum","length","isLastArgCb","Error","undefined","getContext","Promise","resolve","reject","data","create","e","exports","toCanvas","bind","render","toDataURL","renderToDataURL","toString","_"],"mappings":"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","sourcesContent":["\r\nconst canPromise = require('./can-promise')\r\n\r\nconst QRCode = require('./core/qrcode')\r\nconst CanvasRenderer = require('./renderer/canvas')\r\nconst SvgRenderer = require('./renderer/svg-tag.js')\r\n\r\nfunction renderCanvas (renderFunc, canvas, text, opts, cb) {\r\n  const args = [].slice.call(arguments, 1)\r\n  const argsNum = args.length\r\n  const isLastArgCb = typeof args[argsNum - 1] === 'function'\r\n\r\n  if (!isLastArgCb && !canPromise()) {\r\n    throw new Error('Callback required as last argument')\r\n  }\r\n\r\n  if (isLastArgCb) {\r\n    if (argsNum < 2) {\r\n      throw new Error('Too few arguments provided')\r\n    }\r\n\r\n    if (argsNum === 2) {\r\n      cb = text\r\n      text = canvas\r\n      canvas = opts = undefined\r\n    } else if (argsNum === 3) {\r\n      if (canvas.getContext && typeof cb === 'undefined') {\r\n        cb = opts\r\n        opts = undefined\r\n      } else {\r\n        cb = opts\r\n        opts = text\r\n        text = canvas\r\n        canvas = undefined\r\n      }\r\n    }\r\n  } else {\r\n    if (argsNum < 1) {\r\n      throw new Error('Too few arguments provided')\r\n    }\r\n\r\n    if (argsNum === 1) {\r\n      text = canvas\r\n      canvas = opts = undefined\r\n    } else if (argsNum === 2 && !canvas.getContext) {\r\n      opts = text\r\n      text = canvas\r\n      canvas = undefined\r\n    }\r\n\r\n    return new Promise(function (resolve, reject) {\r\n      try {\r\n        const data = QRCode.create(text, opts)\r\n        resolve(renderFunc(data, canvas, opts))\r\n      } catch (e) {\r\n        reject(e)\r\n      }\r\n    })\r\n  }\r\n\r\n  try {\r\n    const data = QRCode.create(text, opts)\r\n    cb(null, renderFunc(data, canvas, opts))\r\n  } catch (e) {\r\n    cb(e)\r\n  }\r\n}\r\n\r\nexports.create = QRCode.create\r\nexports.toCanvas = renderCanvas.bind(null, CanvasRenderer.render)\r\nexports.toDataURL = renderCanvas.bind(null, CanvasRenderer.renderToDataURL)\r\n\r\n// only svg for now.\r\nexports.toString = renderCanvas.bind(null, function (data, _, opts) {\r\n  return SvgRenderer.render(data, opts)\r\n})\r\n"]},"metadata":{},"sourceType":"script"}